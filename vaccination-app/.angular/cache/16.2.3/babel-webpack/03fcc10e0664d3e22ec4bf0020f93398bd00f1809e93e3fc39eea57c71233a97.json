{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nexport class AuthentificationComponent {\n  constructor(userService, router) {\n    this.userService = userService;\n    this.router = router;\n  }\n  ngOnInit() {}\n  logIn() {\n    if (this.mail && this.password) {\n      this.errormsg = \"\";\n      this.userService.getUserByMail(this.mail).subscribe(resultUser => {\n        this.user = resultUser;\n        console.log(this.user);\n        if (this.user) {\n          if (this.user.password == this.password) {\n            this.router.navigate(['userdashboard', this.user.id]);\n          } else {\n            this.errormsg = \"Mot de passe incorrect\";\n          }\n        } else {\n          this.errormsg = \"Aucun administrateur ou médecin ayant cet email a été trouvé\";\n        }\n      });\n    } else {\n      if (this.mail == null) {\n        this.mailerror = true;\n      } else {\n        this.mailerror = false;\n      }\n      if (this.password == null) {\n        this.passworderror = true;\n      } else {\n        this.passworderror = false;\n      }\n      this.errormsg = \"Veuillez remplir tous les champs pour vous connecter\";\n    }\n  }\n}\n_class = AuthentificationComponent;\n_class.ɵfac = function AuthentificationComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-authentification\"]],\n  decls: 8,\n  vars: 5,\n  consts: [[1, \"auth\"], [\"id\", \"login\", \"name\", \"login\", \"placeholder\", \"email\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"placeholder\", \"mot de passe\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [3, \"click\"]],\n  template: function AuthentificationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\")(2, \"input\", 1);\n      i0.ɵɵlistener(\"ngModelChange\", function AuthentificationComponent_Template_input_ngModelChange_2_listener($event) {\n        return ctx.mail = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function AuthentificationComponent_Template_input_ngModelChange_3_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function AuthentificationComponent_Template_button_click_4_listener() {\n        return ctx.logIn();\n      });\n      i0.ɵɵtext(5, \" Se connecter \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"span\");\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.mail)(\"ngClass\", ctx.mailerror ? \"error\" : \"\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.password)(\"ngClass\", ctx.passworderror ? \"error\" : \"\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" \", ctx.errormsg, \" \");\n    }\n  },\n  dependencies: [i3.NgClass, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\".auth[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 500px;\\n}\\n\\nform[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  width: 230px;\\n  height: 200px;\\n}\\n\\ninput[_ngcontent-%COMP%] {\\n  margin-bottom: 10px;\\n  font-family: Arial, Helvetica, sans-serif;\\n  border: solid rgb(187, 181, 181) 2px;\\n  border-radius: 3px;\\n  height: 35px;\\n  font-size: min(4vh, 2vw, 15px);\\n}\\n\\ninput[_ngcontent-%COMP%]:hover {\\n  border: solid #369 2px;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  height: 35px;\\n  font-size: min(4vh, 2vw, 15px);\\n  border: solid black 1px;\\n  border-radius: 3px;\\n  background-color: #369;\\n  color: white;\\n  cursor: pointer;\\n}\\n\\nbutton[_ngcontent-%COMP%]:hover {\\n  border: solid rgb(69, 222, 245) 1px;\\n}\\n\\n.noerror[_ngcontent-%COMP%] {\\n  border: solid rgb(187, 181, 181) 2px;\\n}\\n\\n.error[_ngcontent-%COMP%] {\\n  border: solid #ee5253 2px;\\n}\\n\\nform[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  color: #ee5253;\\n  text-shadow: 1px 1px 0px #000615;\\n  font-weight: bold;\\n  font-size: min(4vh, 2vw, 15px);\\n  display: flex;\\n  justify-content: center;\\n  text-align: center;\\n  margin-top: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXV0aGVudGlmaWNhdGlvbi9hdXRoZW50aWZpY2F0aW9uLmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vRGV2JTIwRnVsbFN0YWNrL3ZhY2NpbmF0aW9uLWFwcC9zcmMvYXBwL2F1dGhlbnRpZmljYXRpb24vYXV0aGVudGlmaWNhdGlvbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtBQ0NKOztBREVBO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7QUNDSjs7QURFQTtFQUNJLG1CQUFBO0VBQ0EseUNBQUE7RUFDQSxvQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLDhCQUFBO0FDQ0o7O0FERUE7RUFDSSxzQkFBQTtBQ0NKOztBREVBO0VBQ0ksWUFBQTtFQUNBLDhCQUFBO0VBQ0EsdUJBQUE7RUFDQSxrQkFBQTtFQUNBLHNCQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7QUNDSjs7QURFQTtFQUNJLG1DQUFBO0FDQ0o7O0FERUE7RUFDSSxvQ0FBQTtBQ0NKOztBREVBO0VBQ0kseUJBQUE7QUNDSjs7QURFQTtFQUNJLGNBQUE7RUFDQSxnQ0FBQTtFQUNBLGlCQUFBO0VBQ0EsOEJBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FDQ0oiLCJzb3VyY2VzQ29udGVudCI6WyIuYXV0aHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgaGVpZ2h0OiA1MDBweDtcbn1cblxuZm9ybXtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgd2lkdGg6IDIzMHB4O1xuICAgIGhlaWdodDogMjAwcHg7XG59XG5cbmlucHV0e1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XG4gICAgYm9yZGVyOnNvbGlkIHJnYigxODcsIDE4MSwgMTgxKSAycHg7XG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgIGhlaWdodDogMzVweDtcbiAgICBmb250LXNpemU6IG1pbig0dmgsIDJ2dywgMTVweCk7XG59XG5cbmlucHV0OmhvdmVye1xuICAgIGJvcmRlcjogc29saWQgIzM2OSAycHg7XG59XG5cbmJ1dHRvbntcbiAgICBoZWlnaHQ6IDM1cHg7XG4gICAgZm9udC1zaXplOiBtaW4oNHZoLCAydncsIDE1cHgpO1xuICAgIGJvcmRlcjogc29saWQgYmxhY2sgMXB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiMzNjk7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuYnV0dG9uOmhvdmVye1xuICAgIGJvcmRlcjogc29saWQgcmdiKDY5LCAyMjIsIDI0NSkgMXB4O1xufVxuXG4ubm9lcnJvcntcbiAgICBib3JkZXI6c29saWQgcmdiKDE4NywgMTgxLCAxODEpIDJweDtcbn1cblxuLmVycm9ye1xuICAgIGJvcmRlcjogc29saWQgI2VlNTI1MyAycHg7XG59XG5cbmZvcm0gc3BhbntcbiAgICBjb2xvcjojZWU1MjUzO1xuICAgIHRleHQtc2hhZG93OiAxcHggMXB4IDBweCAjMDAwNjE1O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGZvbnQtc2l6ZTogbWluKDR2aCwgMnZ3LCAxNXB4KTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xufVxuIiwiLmF1dGgge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgaGVpZ2h0OiA1MDBweDtcbn1cblxuZm9ybSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIHdpZHRoOiAyMzBweDtcbiAgaGVpZ2h0OiAyMDBweDtcbn1cblxuaW5wdXQge1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcbiAgYm9yZGVyOiBzb2xpZCByZ2IoMTg3LCAxODEsIDE4MSkgMnB4O1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG4gIGhlaWdodDogMzVweDtcbiAgZm9udC1zaXplOiBtaW4oNHZoLCAydncsIDE1cHgpO1xufVxuXG5pbnB1dDpob3ZlciB7XG4gIGJvcmRlcjogc29saWQgIzM2OSAycHg7XG59XG5cbmJ1dHRvbiB7XG4gIGhlaWdodDogMzVweDtcbiAgZm9udC1zaXplOiBtaW4oNHZoLCAydncsIDE1cHgpO1xuICBib3JkZXI6IHNvbGlkIGJsYWNrIDFweDtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzY5O1xuICBjb2xvcjogd2hpdGU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuYnV0dG9uOmhvdmVyIHtcbiAgYm9yZGVyOiBzb2xpZCByZ2IoNjksIDIyMiwgMjQ1KSAxcHg7XG59XG5cbi5ub2Vycm9yIHtcbiAgYm9yZGVyOiBzb2xpZCByZ2IoMTg3LCAxODEsIDE4MSkgMnB4O1xufVxuXG4uZXJyb3Ige1xuICBib3JkZXI6IHNvbGlkICNlZTUyNTMgMnB4O1xufVxuXG5mb3JtIHNwYW4ge1xuICBjb2xvcjogI2VlNTI1MztcbiAgdGV4dC1zaGFkb3c6IDFweCAxcHggMHB4ICMwMDA2MTU7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBmb250LXNpemU6IG1pbig0dmgsIDJ2dywgMTVweCk7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["AuthentificationComponent","constructor","userService","router","ngOnInit","logIn","mail","password","errormsg","getUserByMail","subscribe","resultUser","user","console","log","navigate","id","mailerror","passworderror","i0","ɵɵdirectiveInject","i1","UserService","i2","Router","selectors","decls","vars","consts","template","AuthentificationComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","AuthentificationComponent_Template_input_ngModelChange_2_listener","$event","ɵɵelementEnd","AuthentificationComponent_Template_input_ngModelChange_3_listener","AuthentificationComponent_Template_button_click_4_listener","ɵɵtext","ɵɵadvance","ɵɵproperty","ɵɵtextInterpolate1"],"sources":["/Users/thibault_m/Desktop/Polytech/5A/Dev FullStack/vaccination-app/src/app/authentification/authentification.component.ts","/Users/thibault_m/Desktop/Polytech/5A/Dev FullStack/vaccination-app/src/app/authentification/authentification.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { User } from './user';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { UserService } from '../user.service';\n\n@Component({\n  selector: 'app-authentification',\n  templateUrl: './authentification.component.html',\n  styleUrls: ['./authentification.component.scss']\n})\nexport class AuthentificationComponent implements OnInit{\n\n  user?: User;\n\n  mail?: string;\n  password?: string;\n\n  mailerror?: boolean;\n  passworderror?: boolean;\n  errormsg?: string; \n\n  constructor(private userService: UserService, private router: Router) {}\n\n  ngOnInit(): void {\n     \n  }\n\n  logIn(){\n    if(this.mail && this.password){\n      this.errormsg = \"\";\n      this.userService.getUserByMail(this.mail).subscribe(resultUser =>{\n        this.user = resultUser;\n        console.log(this.user);\n        if(this.user){\n          if(this.user.password == this.password){\n            this.router.navigate(['userdashboard', this.user.id])\n          }\n          \n          else{\n            this.errormsg = \"Mot de passe incorrect\"\n          }\n        }\n  \n        else {\n          this.errormsg = \"Aucun administrateur ou médecin ayant cet email a été trouvé\";\n        }\n      })\n\n    }\n\n    else{\n      if(this.mail == null){\n        this.mailerror = true;\n      }\n      else{\n        this.mailerror = false;\n      }\n\n      if(this.password == null){\n        this.passworderror = true;\n      }\n      else{\n        this.passworderror = false;\n      }\n      this.errormsg = \"Veuillez remplir tous les champs pour vous connecter\";\n    }\n  }\n\n\n}\n","<div class=\"auth\">\n    <form>\n        <input id=\"login\" name=\"login\" placeholder=\"email\" [(ngModel)] = \"mail\" [ngClass]=\"mailerror? 'error' : ''\"/>\n        <input type=\"password\" id=\"password\" name=\"password\" placeholder=\"mot de passe\" [(ngModel)]=\"password\" [ngClass]=\"passworderror? 'error' : ''\"/>\n        <button (click)=\"logIn()\"> Se connecter </button>\n        <span> {{errormsg}} </span>\n    </form>\n</div>\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}